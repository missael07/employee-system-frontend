

<div class="container mt-2 content">
      <div class="filter-container">
        <div class="search-container">
            <div class="filter-grid-container">
                <div class="filter-grid">
                    <mat-form-field>
                        <mat-label>Filter</mat-label>
                        <input matInput placeholder="You can search by Name" #input>
                    </mat-form-field>
                </div>
                <div class="actions">
                    <button class="btn action-button" (click)="search(input.value)">
                        Search
                    </button>
                </div>
            </div>
        </div>
    </div>
        
    <div class="d-flex align-items-stretch button-group mt-4 pt-2 mb-2">
      <a class="btn action-button float-end" target="_blank" (click)="openDialog()">
          Add Project
      </a>
  </div>
    
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="projectList" matSort (matSortChange)="applySort($event)">

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header data-color="red">Name</th>
          <td mat-cell *matCellDef="let row"><a class="id-link" (click)="openDialog(row)">{{ row.name }}</a></td>
        </ng-container>

        <ng-container matColumnDef="isActive">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Project Status</th>
          <td mat-cell *matCellDef="let row">{{ row.isActive ? 'Open' : 'Close' }}</td>
        </ng-container>

        <ng-container matColumnDef="createdDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Start Date</th>
          <td mat-cell *matCellDef="let row">{{ row.createdAt | date: 'MM/dd/yyyy' }}</td>
        </ng-container>

        <ng-container matColumnDef="options">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let row">
            <mat-icon mat-raised-button matTooltip="Open Project" class="open" (click)="changeStatus(row._id, true)" *ngIf="!row.isActive">lock_open</mat-icon> 
            <mat-icon mat-raised-button matTooltip="Close Project" class="close" (click)="changeStatus(row._id, false)" *ngIf="row.isActive">lock</mat-icon>
          </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="4">
            No data matching the filter.
          </td>
        </tr>
      </table>
    
      <mat-paginator
      #paginator class="demo-paginator" (page)="handlePageEvent($event)" [length]="totalRows"
      pageSize="10" [disabled]="false" [showFirstLastButtons]="true" [hidePageSize]="true"
      [pageIndex]="0" aria-label="Select page"
      ></mat-paginator>
    </div>
</div>
